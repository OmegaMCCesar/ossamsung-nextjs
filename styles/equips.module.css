/* =========================================================
   EQUIPS MODULE (CSS Modules compatible, high-contrast inputs)
   ========================================================= */

/* ─────────────────────────────────────
   Page wrapper (+ design tokens locales)
   ───────────────────────────────────── */
.equipsPageWrapper {
  /* Paleta base (modo oscuro por defecto) */
  --bg: #0f1115;
  --elev-1: #121520;
  --elev-2: #171b27;
  --card: #141823;
  --text: #e6e9ef;
  --muted: #a7b0c0;
  --brand: #6ea8fe;
  --brand-strong: #4b90ff;
  --ok: #2ecc71;
  --warn: #ffb020;
  --danger: #ff6b6b;
  --border: rgba(255,255,255,0.08);
  --shadow: 0 8px 30px rgba(0,0,0,0.25);
  --shadow-soft: 0 8px 24px rgba(0,0,0,0.22);
  --radius: 16px;
  --radius-sm: 12px;
  --radius-xs: 10px;
  --gap: clamp(10px, 1.6vw, 16px);

  /* Tokens de inputs con alto contraste (modo oscuro) */
  --input-text: var(--text);
  --input-bg: #1a2233;
  --input-bg-hover: #1f2940;
  --input-bg-focus: #212e48;
  --input-border: rgba(255,255,255,0.28);
  --input-border-strong: #86a7ff;
  --input-placeholder: #c6d0e3;

  min-height: 100dvh;
  background: radial-gradient(1200px 800px at 20% -10%, rgba(78,115,255,0.08), transparent 60%),
              radial-gradient(1200px 800px at 120% 10%, rgba(110,168,254,0.10), transparent 60%),
              var(--bg);
  color: var(--text);
  padding: clamp(14px, 2.5vw, 24px);
  display: grid;
  grid-template-rows: auto 1fr;
  gap: clamp(14px, 2.4vw, 22px);
}

/* Overrides de tokens para modo claro, scopiados al wrapper (CSS Modules-safe) */
@media (prefers-color-scheme: light) {
  .equipsPageWrapper {
    --bg: #f7f9fc;
    --elev-1: #ffffff;
    --elev-2: #ffffff;
    --card: #ffffff;
    --text: #0f1424;
    --muted: #5f6b84;
    --brand: #3b82f6;
    --brand-strong: #1d4ed8;
    --border: rgba(15,20,36,0.08);
    --shadow: 0 8px 28px rgba(15,20,36,0.08);
    --shadow-soft: 0 8px 24px rgba(15,20,36,0.08);

    /* Inputs en claro */
    --input-text: #0f1424;
    --input-bg: #ffffff;
    --input-bg-hover: #f7f9ff;
    --input-bg-focus: #f2f6ff;
    --input-border: rgba(15,20,36,0.28);
    --input-border-strong: #3b82f6;
    --input-placeholder: #6b7280;
  }
}

/* ─────────────────────────────────────
   Header / Cabezal
   ───────────────────────────────────── */
.cabezal {
  background: linear-gradient(180deg, var(--elev-2), var(--elev-1));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: clamp(16px, 2.6vw, 28px);
  box-shadow: var(--shadow-soft);
  display: grid;
  gap: clamp(12px, 2vw, 18px);
}

.cabezalTitle {
  display: grid;
  gap: 4px;
  align-items: center;
  text-align: center;
}

.cabezalh1 {
  font-size: clamp(18px, 3.2vw, 28px);
  letter-spacing: 0.6px;
  font-weight: 700;
  margin: 0;
}

.cabezalh2 {
  font-size: clamp(12px, 1.6vw, 14px);
  color: var(--muted);
  letter-spacing: 2.5px;
  margin: 0;
}

/* Top actions */
.cabezal > :global(button),
.adminButton {
  justify-self: start;
}

.adminButton {
  appearance: none;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, var(--card), var(--elev-2));
  color: var(--text);
  border-radius: 999px;
  padding: 10px 14px;
  font-size: 13px;
  font-weight: 600;
  transition: transform 0.15s ease, border-color 0.15s ease, background 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,0.06);
}
.adminButton:hover { transform: translateY(-1px); border-color: var(--brand); }
.adminButton:active { transform: translateY(0); }
.adminButton:disabled { opacity: 0.6; cursor: not-allowed; }

/* ─────────────────────────────────────
   Filters row
   ───────────────────────────────────── */
.filters {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--gap);
}
@media (min-width: 720px) {
  .filters {
    grid-template-columns: minmax(180px, 220px) 1fr auto auto;
    align-items: center;
  }
}

/* === Inputs/Selects con CONTRASTE MEJORADO (sin :global, sin prefers-contrast) === */
.categorySelect,
.searchInput,
.searchInputAsc,
.searchInputSN {
  width: 100%;
  appearance: none;
  background: var(--input-bg);
  border: 1.5px solid var(--input-border);
  border-radius: var(--radius-sm);
  padding: 12px 14px;
  color: var(--input-text);
  font-size: 14px;
  outline: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease, transform 0.08s ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
}
.categorySelect:hover,
.searchInput:hover,
.searchInputAsc:hover,
.searchInputSN:hover {
  background: var(--input-bg-hover);
  border-color: var(--input-border-strong);
}
.categorySelect:focus,
.searchInput:focus,
.searchInputAsc:focus,
.searchInputSN:focus {
  background: var(--input-bg-focus);
  border-color: var(--input-border-strong);
  box-shadow:
    0 0 0 4px rgba(134, 167, 255, 0.28),
    0 2px 10px rgba(0,0,0,0.25);
}
.categorySelect:disabled,
.searchInput:disabled,
.searchInputAsc:disabled,
.searchInputSN:disabled {
  opacity: 1;             /* mantiene legibilidad */
  background: #2a3346;
  border-color: rgba(255,255,255,0.22);
  color: rgba(230,233,239,0.55);
  cursor: not-allowed;
}
@media (prefers-color-scheme: light) {
  .categorySelect:disabled,
  .searchInput:disabled,
  .searchInputAsc:disabled,
  .searchInputSN:disabled {
    background: #f1f3f8;
    border-color: rgba(15,20,36,0.22);
    color: rgba(15,20,36,0.5);
  }
}

/* Placeholder legible */
.categorySelect::placeholder,
.searchInput::placeholder,
.searchInputAsc::placeholder,
.searchInputSN::placeholder {
  color: var(--input-placeholder);
  opacity: 1;
}

/* Estado inválido con anillo visible */
.inputInvalid {
  border-color: #ff7070 !important;
  box-shadow:
    0 0 0 4px rgba(255,112,112,0.25),
    inset 0 1px 0 rgba(255,255,255,0.06) !important;
}

/* Links as buttons */
.buzonButton,
.volverButton {
  justify-self: end;
  text-decoration: none;
  background: linear-gradient(180deg, var(--brand), var(--brand-strong));
  color: white;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 13px;
  border: 1px solid transparent;
  transition: transform 0.15s ease, filter 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 6px 18px rgba(75, 144, 255, 0.3);
}
.buzonButton:hover,
.volverButton:hover { transform: translateY(-1px); filter: brightness(1.05); }
.buzonButton:active,
.volverButton:active { transform: translateY(0); }

/* ASC & SN rows */
.ascCodeInputContainer,
.serialNumberInputContainer {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--gap);
  align-items: center;
}

.resetAscButton,
.resetSNButton {
  appearance: none;
  background: transparent;
  border: 1px solid var(--border);
  color: var(--muted);
  padding: 10px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
  transition: border-color 0.15s ease, color 0.15s ease, transform 0.08s ease, background 0.15s;
}
.resetAscButton:hover,
.resetSNButton:hover {
  color: var(--text);
  border-color: var(--brand);
  background: linear-gradient(180deg, var(--elev-1), var(--elev-2));
}
.resetAscButton:active,
.resetSNButton:active { transform: translateY(1px); }

/* Inline error text */
.serialNumberErrorMessage {
  grid-column: 1 / -1;
  margin: -6px 2px 0 2px;
  color: var(--danger);
  font-size: 12px;
}

/* ─────────────────────────────────────
   Content area
   ───────────────────────────────────── */
.contentArea {
  background: linear-gradient(180deg, var(--elev-2), var(--elev-1));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: clamp(14px, 2.4vw, 22px);
  min-height: 40dvh;
  display: grid;
}

/* Messaging */
.messageContainer {
  display: grid;
  place-items: center;
  text-align: center;
  padding: clamp(18px, 3vw, 26px);
}

.initialMessage,
.message {
  color: var(--muted);
  font-size: clamp(14px, 1.6vw, 15px);
}

.errorContainer {
  background: linear-gradient(180deg, rgba(255,107,107,0.08), transparent);
  border: 1px solid rgba(255,107,107,0.25);
  color: var(--text);
  border-radius: var(--radius-sm);
  padding: clamp(14px, 2vw, 18px);
  display: grid;
  gap: 6px;
}

.errorMessageTitle {
  margin: 0;
  font-size: clamp(16px, 2vw, 18px);
  font-weight: 800;
}
.errorDescription { margin: 0; color: var(--muted); }

.resetButton,
.backButton {
  justify-self: start;
  appearance: none;
  background: linear-gradient(180deg, var(--brand), var(--brand-strong));
  color: white;
  border: 1px solid transparent;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 13px;
  margin-top: 6px;
  transition: transform 0.12s ease, filter 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 8px 20px rgba(75, 144, 255, 0.35);
}
.resetButton:hover,
.backButton:hover { transform: translateY(-1px); filter: brightness(1.04); }
.resetButton:active,
.backButton:active { transform: translateY(0); }

/* Lists & grids */
.gridList {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: clamp(10px, 1.8vw, 18px);
  margin-top: 8px;
}
@media (min-width: 720px) {
  .gridList { grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 1040px) {
  .gridList { grid-template-columns: repeat(4, 1fr); }
}

.list {
  list-style: none;
  padding: 0;
  margin: 10px 0 0 0;
  display: grid;
  gap: 8px;
}

/* Cards / Items */
.modelItem,
.blockItem,
.clickableItem {
  background: linear-gradient(180deg, var(--card), var(--elev-1));
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-soft);
  padding: clamp(10px, 1.8vw, 14px);
  cursor: pointer;
  transition: transform 0.12s ease, border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease, outline 0.15s ease;
}
.modelItem:hover,
.blockItem:hover,
.clickableItem:hover { transform: translateY(-2px); border-color: rgba(110,168,254,0.35); }
.modelItem:active,
.blockItem:active,
.clickableItem:active { transform: translateY(0); }

.itemImage {
  width: 100%;
  height: clamp(120px, 18vw, 180px);
  object-fit: contain;
  display: block;
  border-radius: var(--radius-xs);
  background: rgba(255,255,255,0.02);
  border: 1px dashed var(--border);
}

/* Selection sections */
.selectionList {
  display: grid;
  gap: 8px;
}
.selectionTitle {
  margin: 2px 0 0 0;
  font-size: clamp(16px, 2.2vw, 18px);
  font-weight: 800;
}
.selectionDescription {
  margin: 0;
  color: var(--muted);
  font-size: 13px;
}

/* Summary */
.summary {
  display: grid;
  gap: 10px;
  background: linear-gradient(180deg, var(--card), var(--elev-1));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: clamp(14px, 2.4vw, 20px);
}
.summaryTitle {
  margin: 0;
  font-size: clamp(18px, 2.4vw, 20px);
  font-weight: 800;
}
.summaryDetails {
  display: grid;
  grid-template-columns: 1fr;
  gap: 6px;
  color: var(--muted);
  font-size: 14px;
}
.summaryDetails strong { color: var(--text); }

/* States */
.noResults {
  text-align: center;
  color: var(--muted);
  background: linear-gradient(180deg, var(--card), var(--elev-1));
  border: 1px dashed var(--border);
  border-radius: var(--radius-sm);
  padding: clamp(12px, 2vw, 16px);
}

.errorMessage { color: var(--danger); }
.message { color: var(--muted); }

/* Model list wrapper */
.modelList {
  display: grid;
  gap: var(--gap);
}

/* A11y: focus ring general */
:where(.equipsPageWrapper) :where(a, button, [role="button"], input, select) {
  outline: none;
}
:where(.equipsPageWrapper) :where(a:focus-visible, button:focus-visible, [role="button"]:focus-visible, input:focus-visible, select:focus-visible) {
  box-shadow: 0 0 0 3px rgba(110,168,254,0.35);
  border-color: var(--brand) !important;
}
